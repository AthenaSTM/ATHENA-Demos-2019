# ATHENA RESTful API Demo
This simple demo API accepts RESTful POST requests and returns a JSON data structure with the labels the classifier has assigned to the text submitted. It does not implement any web pages/web forms or other interface options; instead it displays the process that would be used to allow automated tools to connect to the classifers as an online service and then return results that can be parsed and formatted as the user desires.

## API Use
### Starting the Program
The API may be directly accessed by running the program:
```bash
python api_demo.py
```
at the command prompt. The required python libraries are listed in the `requirements.txt` file in the same directory as the program. This file can be processed by `pip` or `conda` and was generated by [`pigar`](https://github.com/damnever/pigar).

When started, the program will give you the address of the API server, along with some other details of the Flask application:
```
 * Serving Flask app "restplus" (lazy loading)
 * Environment: production
   WARNING: Do not use the development server in a production environment.
   Use a production WSGI server instead.
 * Debug mode: on
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: xxx-xxx-xxx
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
```
### Sending an API Request
Go to the address provided in your browser to see the API endpoint. This is documented using Swagger, and provides a link, labelled "default" that takes you to the documentation and also provides a "try it out" button. This last will let you set the request from the browser. Alternatively, you can use other tools such as [curl](https://curl.haxx.se/) or [Insomnia](https://insomnia.rest/) for direct testing.

If you click the "try it out" button, you will have to select a collection of classifiers (either "full_text" or "abstracts") and then paste some text to be classified into the textbox labeled: "Enter Text Here." Then hit the execute button to get the classifications.
### Results
The results will be returned as a list of JSON objects that looks similar to this:
```json
[
  {
    "label": "api/Abs_Classifiers/abs_BehavioralDomain_Action",
    "prediction": "0"
  },
  {
    "label": "api/Abs_Classifiers/abs_BehavioralDomain_Action_Execution",
    "prediction": "0"
  },
  {
    "label": "api/Abs_Classifiers/abs_BehavioralDomain_Action_Execution_Speech",
    "prediction": "0"
  },
            ... lots more labels here! ...
  {
    "label": "api/Abs_Classifiers/abs_StimType_Tones",
    "prediction": "0"
  },
  {
    "label": "api/Abs_Classifiers/abs_StimType_Words",
    "prediction": "0"
  }
]
```
The label predictions are coded as `0` for not applicable and `1` for applicable. 

Please note that this classifier is based on a limited training set as it was part of a research project to develop a classification mechanism, not to build a production level classifier. The server is built using the Python libraries Flask and Flask-Restplus.

###### Matthew D. Turner<br>Georgia State University <br> 2019.07.03
